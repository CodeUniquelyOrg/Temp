@import 'variables';
@import 'colors';
@import 'mixin';

.button-bar {
  width:100%;
  position:relative;
  padding: 0;
  text-align: center;

  // margin: 40px auto 20px auto;
  // margin: 40px auto 0 auto;
  margin: 40px 0 0 0;

  // width: calc(100% - 40px);
  min-height: 54px;
  line-height: 54px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;

  .btn {
    width:100%;
    &:focus {
      outline: 2px solid $focus-color;
    }
  }

  // USES TINY SIZES BY DEFAULT
  .btn {
    flex: 1;
    margin:4px 2px;
  }

  // =======================================
  //  One button only
  // =======================================
  .btn:first-child:nth-last-child(1) {
    min-width: auto;
    width:100%;
  }
  // =======================================
  //  Two buttons
  // =======================================
  .btn:first-child:nth-last-child(2),
  .btn:first-child:nth-last-child(2) ~ .btn {
    min-width:auto;
    width:calc(50% - 4px); // 2x of margin:2px
  }
  // =======================================
  //  Three buttons
  // =======================================
  .btn:first-child:nth-last-child(3) {
    min-width:auto;
  },
  .btn:first-child:nth-last-child(3) ~ .btn {
    min-width:50%;
  }
}

// @media (min-width: $screen-xs-min) {
//   .button-bar {
//     // margin: 40px 0;
//     width:100%;
//   }
// }

// ============================================
// when smaller screen - and one or two buttons
//           HOW DO YOU DO THIS ???
// ============================================
@media (min-width: $screen-sm-min) {
  .button-bar {
    .btn {
      width:auto !important;
      min-width: auto !important;
      flex:none;
      padding:0 $button-padding;
      &.jump-link {
        left:0;
        padding:10px 0 20px 10px;
      }
    }
    // =======================================
    //  One button only
    // =======================================
    .btn:first-child:nth-last-child(1) {
      position:absolute;
      left: 0; // $button-padding / 2;
    }
    // =======================================
    //  Two buttons
    // =======================================
    .btn:first-child:nth-last-child(2) {
      position:absolute;
      left: 0;
    }
    .btn:first-child:nth-last-child(2) ~ .btn {
      position:absolute;
      right: 0;
    }
    // =======================================
    //  Three buttons
    // =======================================
    .btn:first-child:nth-last-child(3) {
      flex: 2;
      width:auto;  // 100%
      min-width:auto;
      margin: 4px auto; // 4px 2px;
    }
    .btn:first-child:nth-last-child(3) ~ .btn {
      flex: 2;
      width:auto;       // 100%
      min-width:auto;   // 50%
      margin: 4px auto; // 4px 2px;
    }
  }
}

// On big screen let buttons float apart
@media (min-width: $screen-lg-min) {
  .button-bar {
    .btn {
      width:auto !important;
      min-width: auto !important;
      flex:none;
      padding:0 $button-padding;
      // margin: 40px auto 20px auto;
      &.jump-link {
        left:0;
        padding:10px 0 20px 10px;
      }
    }
    // =======================================
    //  One button only
    // =======================================
    .btn:first-child:nth-last-child(1) {
      position:absolute;
      left: 0; // $button-padding / 2;
    }
    // =======================================
    //  Two buttons
    // =======================================
    .btn:first-child:nth-last-child(2) {
      position:absolute;
      left: 0;
    }
    .btn:first-child:nth-last-child(2) ~ .btn {
      position:absolute;
      right: 0;
    }
    // =======================================
    //  Three buttons
    // =======================================
    .btn:first-child:nth-last-child(3) {
      position:absolute;
      left: 0;
    }
    .btn:first-child:nth-last-child(3) ~.btn:nth-last-child(1) {
      position:absolute;
      right: 0;
      max-width:148px; // HACK !!!
    }
    .btn:first-child:nth-last-child(3) ~.btn:nth-last-child(2) {
      min-width: auto !important;
      position:absolute;
      right: 152px;    // HACK
    }
  }
}